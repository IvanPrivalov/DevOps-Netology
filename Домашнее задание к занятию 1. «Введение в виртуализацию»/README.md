# Домашнее задание к занятию 1.  «Введение в виртуализацию»

### Цели задания

1. Научиться запускать виртуальную машину в Yandex Cloud с минимальным расходом ресурсов.
2. Попрактиковаться в выборе платформы  и системы управления виртуализации для решения требуемых задач.

## Задача 1

1. Создал через web-интерфейс Yandex Cloud - VPC и виртуальную машину, с образом Yandex Cloud Toolbox, из инструкции конфигурации "эконом-ВМ" с публичным ip-адресом. 

<img src="\econom-vm.PNG" alt="Alt text" title="Обзор вируальная машина">

----

<img src="\econom-vm 2.PNG" alt="Alt text" title="Вируальная машина">

2. Подсключился по ssh и проверил что стоит Docker.

<img src="\econom-vm 3.PNG" alt="Alt text" title="Вируальная машина">

3. С опцией "прерываемая" виртуальная машина выключилась через 24 часа.

<img src="\econom-vm 4.PNG" alt="Alt text" title="Вируальная машина выключена">

4. График потребления финансов за 24 часа.

<img src="\econom-vm 5.PNG" alt="Alt text" title="Финансы">

## Задача 2

### Высоконагруженная база данных MySQL, критичная к отказу

Рекомендуемый вариант: Физические сервера или паравиртуализация

Критерии выбора:

- Надежность и отказоустойчивость: Для критичных к отказу баз данных важно минимизировать риск потери данных. Использование физических серверов или кластерных решений на виртуальных серверах с репликацией обеспечивает высокую отказоустойчивость.
- Производительность: Физические сервера дают максимальную производительность без лишней накладных расходов виртуализации.
- Безопасность ИБ: Возможность более плотной настройки мер безопасности, контроля доступа, шифрования.
- Финансирование и компетенции: Более дорогой и требующий опыта управления физическими серверами или сложных решений виртуализации.

### Различные web-приложения

Рекомендуемый вариант: Виртуализация уровня ОС или паравиртуализация

Критерии выбора:

- Гибкость и масштабируемость: Виртуализация уровня ОС (например, контейнеры Docker) позволяет быстро запускать и масштабировать web-приложения.
- Удобство использования и быстрота развёртывания: Виртуализация уровня ОС обеспечивает лёгкую настройку, автоматизацию и быстрый разворот новых окружений.
- Стоимость и ресурсы: Менее затратна по сравнению с физическими серверами. Можно использовать паравиртуализацию или контейнеры.
- Требования ИБ: В зависимости от чувствительности данных, можно реализовать дополнительные меры безопасности (Firewall, DMZ и т.д.)

### Windows-системы для использования бухгалтерским отделом

Рекомендуемый вариант: Виртуализация уровня ОС или паравиртуализация

Критерии выбора:

- Удобство эксплуатации: Виртуальные среды позволяют централизовать управление и обеспечивают лёгкий доступ пользователям.
- Совместимость: Windows-системы хорошо работают на виртуальных платформах, обеспечивая совместимость приложений.
- Надежность: Виртуализация обеспечивает резервирование, бэкапы и возможность быстрого восстановления.
- Финансирование и климатические условия: Чем более простая и понятная платформа — тем быстрее сможет управлять персонал, особенно при ограниченных компетенциях.

### Системы, выполняющие высокопроизводительные расчёты на GPU

Рекомендуемый вариант: Физические сервера с GPU или специализированные решения

Критерии выбора:

- Производительность: Для высокопроизводительных вычислений с GPU важно использовать физические серверы с установленными GPU-ускорителями для максимальной мощности.
- Надежность и низкая задержка: Важны минимальные задержки при обмене данными между CPU и GPU, поэтому виртуализация здесь менее предпочтительна.
- Финансирование: Такие системы дорогие, требуют специальных специалистов.
- Компетенции: Необходимость наличия специалистов по работе с GPU-вычислениями и системами высокого уровня.

## Задача 3

### 1. 100 виртуальных машин на базе Linux и Windows, общие задачи, преимущественно Windows-based инфраструктура, нужны балансировщики нагрузки, репликация данных и автоматизация резервных копий

Рекомендуемый выбор: VMware vSphere или Microsoft Hyper-V

Обоснование:

- Балансировщики нагрузки и репликация: VMware и Hyper-V поддерживают встроенные функции для балансировки нагрузки, репликации и автоматического восстановления.
- Автоматизация: Обе платформы интегрируются с системами управления автоматизацией и оркестрации.
- Windows инфраструктура: Hyper-V лучше интегрируется с Windows-средой, что упрощает управление для Windows-инфраструктуры.
- Общий подход: VMware vSphere — мощное решение для виртуализации с большим сообществом и большим количеством инструментов.

### 2. Требуется наиболее производительное бесплатное open source-решение для виртуализации небольшой (20-30 серверов) инфраструктуры на базе Linux и Windows ВМ

Рекомендуемый выбор: Proxmox VE

Обоснование:

- Open source: Полностью бесплатное решение с открытым исходным кодом.
- Поддержка Linux и Windows: Поддержка виртуальных машин на базе Linux, Windows и контейнеров LXC.
- Производительность: Высокая производительность, использует KVM (Kernel-based Virtual Machine) — нативный гипервизор Linux.
- Управление: Удобный веб-интерфейс, возможность кластеризации, автоматизация бэкапов и миграций.
- Поддержка программных балансировщиков и репликации: Можно интегрировать сторонние инструменты для балансировки нагрузки, репликации и резервных копий.

### 3. Необходимо бесплатное, максимально совместимое и производительное решение для виртуализации Windows-инфраструктуры

Рекомендуемый выбор: Microsoft Hyper-V Server (бесплатная версия) или Hyper-V на Windows Server

Обоснование:

- Максимальная совместимость: Идеально подходит для Windows-инфраструктуры, полностью интегрируется с Windows и Active Directory.
- Производительность: Отличная производительность и низкий накладной расход.
- Бесплатное использование: Hyper-V Server — бесплатный гипервизор с минимальной установкой — хорош для сценариев без необходимости дополнительных функций.
- Поддержка функций управления: Расширенные возможности через System Center (при необходимости), а также встроенная балансировка и репликация для гипервизора.

### 4. Нужно рабочее окружение для тестирования программного продукта на нескольких дистрибутивах Linux

Рекомендуемый выбор: VirtualBox или VMware Workstation Player

Обоснование:

- Бесплатность: Оба решения бесплатны для некоммерческого использования.
- Мультифункциональность: Работа с разными дистрибутивами Linux (и Windows), поддержка Snapshots, легко клонировать окружения.
- Легкость настройки: Простое в использовании GUI, быстрое создание VM с различными дистрибутивами.
- Гибкость: Хорошо подходит для тестирования, автоматизации и быстрого развертывания тестовых сред.

## Задача 4

### Возможные проблемы и недостатки гетерогенной среды виртуализации

1. Сложность управления и администрирования

- Использование нескольких систем управления требует навыков работы с разными платформами, что усложняет мониторинг, настройку и поддержку.
- Повышенная вероятность ошибок, более сложные процессы обучения персонала.

2. Совместимость и интеграция

- Разные системы могут иметь несовместимые API, формы данных, гипервизоры и механизмы взаимодействия.
- Трудности в обмене данными, автоматизации и синхронизации процессов.

3. Различия в характеристиках и функционале

- Каждая система может иметь уникальные функции, ограничения, инструменты резервного копирования, балансировки нагрузки и репликации.
- Неоднородность, усложнение архитектуры, возможные дублирующие или конфликтующие механизмы.

4. Обеспечение безопасности (ИБ)

- Разные платформы имеют различные механизмы аутентификации, политики безопасности, уязвимости.
- Эксплитация уязвимостей, нарушение целостности данных, сложности в централизованном контроле доступа.

5. Стоимость и кадровые ресурсы

- Требуются специалисты, умеющие работать с каждой системной платформой.
- Рост затрат на обучение, поддержку и обновление инфраструктуры.

6. Трудности в автоматизации и оркестрации

- Не все системы одинаково хорошо поддерживают автоматизированное управление через общие инструменты (например, Ansible, Terraform).
- Сложности в автоматической развертке, масштабировании и управлении.

### Что необходимо сделать для минимизации рисков и проблем

| Меры | Описание |
| --- | --- |
| Стандартизация процессов и протоколов | Внедрение унифицированных скриптов, интерфейсов API, протоколов обмена данными. |
| Централизованный мониторинг и управление | Использование инструментов, способных интегрировать управление различными гипервизорами (например, VMware vRealize, Zabbix). |
| Обучение персонала | Регулярное обучение и сертификация специалистов по всем системам. |
| Проектирование по принципам модульности | Разделение функций и сегментация инфраструктуры, чтобы минимизировать влияние изменений. |
| Обеспечение безопасности | Внедрение универсальных средств защиты, единых политик безопасности и аудитной системы. |
| Использование оркестрационных инструментов | Например, Ansible, Terraform, Kubernetes — для автоматизации процессов, независимо от платформы. |

----

Если бы у меня был выбор, лучше предпочтительнее иметь однородную инфраструктуру или хотя бы использовать унифицированные платформы управления, обеспечивающие работу с несколькими гипервизорами через единую панель.